local _={} local function n(a,_)local b=RaycastParams.new() b.FilterType=Enum.RaycastFilterType.Whitelist b.FilterDescendantsInstances={workspace.Map} b.IgnoreWater=true local _=workspace:Raycast(a,_,b) if _ then return _.Instance,_.Position,_.Normal,_.Material else return false end end function _.Knockback(_)local r=game:GetService("\x52\x65\x70\x6C\x69\x63\x61\x74\x65\x64\x53\x74\x6F\x72\x61\x67\x65") local l=r.Effects local x,o,k,h=unpack(_) local q=game.Players:GetPlayerFromCharacter(x) local a=tick() local j=false local g=Instance.new("\x42\x6F\x6F\x6C\x56\x61\x6C\x75\x65",x) g.Name="\x4B\x6E\x6F\x63\x6B\x62\x61\x63\x6B" local f=Instance.new("\x42\x6F\x6F\x6C\x56\x61\x6C\x75\x65",x) f.Name="\x43\x31\x4C\x6F\x63\x6B" local v=false local m m=x.ChildAdded:Connect(function(_)task.wait(0.01) if _.Name=="\x4B\x6E\x6F\x63\x6B\x62\x61\x63\x6B"then v=true end end) spawn(function()if h==true then q.Backpack.GameStatus.Busy.Value=true local _=_G.TStun(x,true)end if x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67")then x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67"):Destroy()end if x:GetAttribute("\x49\x6E\x76")==true then local _=Instance.new("\x42\x6F\x6F\x6C\x56\x61\x6C\x75\x65") _.Name="\x49\x6E\x76\x45\x66\x66\x4F\x66\x66" _.Parent=x game:GetService("\x44\x65\x62\x72\x69\x73"):AddItem(_,0.6)end _G.Inv(true,x,{true}) local y=x:WaitForChild("\x48\x75\x6D\x61\x6E\x6F\x69\x64\x52\x6F\x6F\x74\x50\x61\x72\x74") local u=x:FindFirstChildOfClass("\x48\x75\x6D\x61\x6E\x6F\x69\x64") if typeof(k)~="\x6E\x75\x6D\x62\x65\x72"then k=0.5 end if typeof(o)~="\x56\x65\x63\x74\x6F\x72\x33"then o=y.CFrame.LookVector*-80+y.CFrame.UpVector*10 end local b=y.Position spawn(function()if y:CanSetNetworkOwnership()then y:SetNetworkOwner(nil)end end) for _,_ in pairs(y:GetChildren())do if _:IsA("\x42\x6F\x64\x79\x4D\x6F\x76\x65\x72")then _:Destroy()end end u.AutoRotate=false u.PlatformStand=true y.Anchored=false local d=l.HitEffects.FlyingSmoke:Clone() d.Parent=y local c c=x.ChildRemoved:Connect(function(_)if _.Name=="\x46\x61\x6C\x6C\x69\x6E\x67"or _.Name=="\x4B\x6E\x6F\x63\x6B\x62\x61\x63\x6B"then d.Rate=0 task.wait(1) d:Destroy() c:Disconnect()end end) local p=r.Animations.Knockback local c,_=p.Flying:GetChildren(),p.Sliding:GetChildren() local d=u.Animator:LoadAnimation(c[math.random(1,#c)]) local e=u.Animator:LoadAnimation(_[math.random(1,#_)]) local i=u.Animator:LoadAnimation(p.OnTheGround) local c=u.Animator:LoadAnimation(p.GettingUp) local t=_G.GetWait(0.2,x) local s=_G.GetWait(1,x,true) task.spawn(function()for _,_ in pairs(u.Animator:GetPlayingAnimationTracks())do if _.Priority==Enum.AnimationPriority.Action then _:Stop()end end d:Play(t,1,s)end) local w=Instance.new("\x42\x6F\x64\x79\x56\x65\x6C\x6F\x63\x69\x74\x79") w.MaxForce=Vector3.new(1,1,1)*math.huge print(o) w.Velocity=o*_G.GetWait(1,x,true) print(w.P) w.P=w.P*_G.GetWait(1,x,true) print(w.P) w.Name="\x4B\x6E\x6F\x63\x6B\x42\x56" w.Parent=y local p=y.CFrame:VectorToObjectSpace(w.Velocity) local o=y.CFrame*CFrame.new(p) local _=l.HitEffects.AirLoops:Clone() _.Parent=workspace.Effects task.spawn(function()while _ and _.Parent~=nil do _.Position=y.Position _.AirLoops:Emit(_.AirLoops.EmitCount.Value) _.CFrame=CFrame.new(_.Position,o.Position) if x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67")or v==true then _.AirLoops.Rate=0 task.wait(1) _:Destroy() break end task.wait(0.05)end end) r.CharacterEvents:FireAllClients(x,{"\x41\x69\x72\x4C\x61\x75\x6E\x63\x68",o}) local _,_,_=w.Velocity.X,w.Velocity.Y,w.Velocity.Z local _=false repeat p=y.CFrame:VectorToObjectSpace(w.Velocity) o=y.CFrame*CFrame.new(p) local _=y.Orientation.Y if not(w or w.Parent or v==true)then break end if p.Magnitude>0 then y.CFrame=y.CFrame:lerp(CFrame.new(y.Position,o.Position)*CFrame.Angles(0,math.rad(180),0),0.075)end if tick()-a>=k*_G.GetWait(1,x)then if not x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67")then local _=Instance.new("\x42\x6F\x6F\x6C\x56\x61\x6C\x75\x65",x) _.Name="\x46\x61\x6C\x6C\x69\x6E\x67"end w.Velocity=Vector3.new(w.Velocity.X,math.clamp(w.Velocity.Y-2,-300,math.huge),w.Velocity.Z)*_G.GetWait(1,x) local a,f=n(y.Position,Vector3.new(0,y.Size.Y*-1.5,0)) if a~=false and(w and w.Parent)and v==false then y.Anchored=true if x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67")then x:FindFirstChild("\x46\x61\x6C\x6C\x69\x6E\x67"):Destroy()end if w.Velocity.Y>-120 then r.CharacterEvents:FireAllClients(x,{"\x47\x72\x6F\x75\x6E\x64\x48\x69\x74\x4E\x6F\x72\x6D\x61\x6C",f})else r.CharacterEvents:FireAllClients(x,{"\x47\x72\x6F\x75\x6E\x64\x48\x69\x74\x48\x61\x72\x64",f})end w:Destroy() local _=CFrame.new(f+Vector3.new(0,y.Size.Y*1.5,0))*CFrame.Angles(0,math.rad(_),0) if not y:FindFirstChild("\x4B\x6E\x6F\x63\x6B\x42\x56")then y.CFrame=_ else v=true end local b=_*CFrame.new(0,0,(b-y.Position).Magnitude/2) OnGround=Instance.new("\x42\x6F\x6F\x6C\x56\x61\x6C\x75\x65",x) OnGround.Name="\x4F\x6E\x47\x72\x6F\x75\x6E\x64" e:Play(t,1,s) local f=l.HitEffects.Slide:Clone() f.Parent=workspace.Effects for _=1,75 do local a,_=n(y.Position,CFrame.new(y.Position,b.Position).LookVector*3) if a~=nil then if v==false then if not y:FindFirstChild("\x4B\x6E\x6F\x63\x6B\x42\x56")then y.CFrame=y.CFrame:Lerp(b,0.05) f.CFrame=y.CFrame*CFrame.new(0,(y.Size.Y*-1.5)+(y.Size.Y/2),0)end else f:FindFirstChildOfClass("\x50\x61\x72\x74\x69\x63\x6C\x65\x45\x6D\x69\x74\x74\x65\x72").Rate=0 delay(f:FindFirstChildOfClass("\x50\x61\x72\x74\x69\x63\x6C\x65\x45\x6D\x69\x74\x74\x65\x72").Lifetime.Max,function()f:Destroy()end) break end task.wait()end end if v==true then break end i:Play(t,1,s) f:FindFirstChildOfClass("\x50\x61\x72\x74\x69\x63\x6C\x65\x45\x6D\x69\x74\x74\x65\x72").Rate=0 delay(f:FindFirstChildOfClass("\x50\x61\x72\x74\x69\x63\x6C\x65\x45\x6D\x69\x74\x74\x65\x72").Lifetime.Max,function()f:Destroy()end) local _=tick() while true do if y:FindFirstChild("\x4B\x6E\x6F\x63\x6B\x42\x56")then v=true break end if tick()-_>=1 then break end task.wait()end if v==true then break end d:Stop(t,1,s) e:Stop(t,1,s) c:Play(t,1,_G.GetWait(1.8,x,true)) i:Stop(t,1,s) _G.Inv(false,x,{2}) _G.Inv(true,x,{false}) j=true task.spawn(function()for _,a in pairs(game:GetService("\x50\x6C\x61\x79\x65\x72\x73"):GetPlayers())do local _=a.Character or a.CharacterAdded:Wait() local _=_:WaitForChild("\x48\x75\x6D\x61\x6E\x6F\x69\x64\x52\x6F\x6F\x74\x50\x61\x72\x74") if(_.Position-y.Position).Magnitude<=150 then r.CharacterEvents:FireClient(a,x,{"\x69\x46\x72\x61\x6D\x65\x73"})end end end) local b,a=n(y.Position,y.CFrame.LookVector*-10) local c local _=y.Orientation.Y local d=false if b~=nil then if v==true then d=true else c=y.CFrame*CFrame.new(0,0,5)end else if v==true then d=true else c=CFrame.new(a)*CFrame.Angles(0,math.rad(_),0)end end if d==true then break end for _=1,75 do if v==true then d=true break else y.CFrame=y.CFrame:Lerp(c,0.1)end task.wait()end if d==true then break end y.CFrame=c y.Anchored=false y.Velocity=Vector3.new(0,0,0) u.PlatformStand=false u.AutoRotate=true u.Jump=false u:ChangeState(Enum.HumanoidStateType.Running) if q and y:CanSetNetworkOwnership()then y:SetNetworkOwner(q)end m:Disconnect() break end end task.wait()until not w or w.Parent==nil or v==true if h==true then if x:FindFirstChild("\x53\x74\x75\x6E\x6E\x65\x64")then x:FindFirstChild("\x53\x74\x75\x6E\x6E\x65\x64"):Destroy() q.Backpack.GameStatus.Busy.Value=false end end if j==false then _G.Inv(true,x,{false})end task.delay(_G.GetWait(0.5,x),function()f:Destroy()end) m:Disconnect() g:Destroy() if OnGround then OnGround:Destroy()end end)end return _
